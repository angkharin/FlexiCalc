<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="image/logo.png">

  <title>Area Converter | ตัวแปลงพื้นที่</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: 	#FFF5EE;
      margin: 0;
      padding: 20px;
    }

    .container {
      max-width: 600px;
      margin: auto;
      background: #ffffff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 5px 10px rgba(0,0,0,0.1);
    }

    h1 {
      text-align: center;
      color: #1976d2;
    }

    label {
      font-weight: bold;
      display: block;
      margin-top: 15px;
    }

    input, select {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      margin-top: 5px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }

    button {
      background: #1976d2;
      color: white;
      padding: 10px;
      border: none;
      font-size: 16px;
      cursor: pointer;
      width: 100%;
      border-radius: 6px;
      margin-top: 20px;
    }

    button:hover {
      background: #0d47a1;
    }

    .result {
      margin-top: 20px;
      font-size: 18px;
      text-align: center;
      color: #333;
      line-height: 1.6;
    }
  </style>
</head>
<body>

  <div class="container">
    <h1 id="title">ตัวแปลงพื้นที่</h1>

    <label id="label-value">กรอกค่าพื้นที่:</label>
    <input type="number" id="areaValue" placeholder="กรอกตัวเลข">

    <label id="label-unit">เลือกหน่วย:</label>
    <select id="unitSelect">
      <option value="ac">เอเคอร์</option>
      <option value="a">อาร์</option>
      <option value="ha">เฮกเตอร์</option>
      <option value="cm2">ตารางเซนติเมตร</option>
      <option value="ft2">ตารางฟุต</option>
      <option value="in2">ตารางนิ้ว</option>
      <option value="m2">ตารางเมตร</option>
    </select>

    <button onclick="convertArea()" id="convertBtn">แปลง</button>

    <div class="result" id="resultBox"></div>
    <div class="result" id="explanationBox" style="text-align:left; font-size:14px;"></div>
  </div>

  <script>
    const isThai = (navigator.language || '').toLowerCase().startsWith('th');

    // แปลข้อความ
    document.getElementById("title").textContent = isThai ? "ตัวแปลงพื้นที่" : "Area Converter";
    document.getElementById("label-value").textContent = isThai ? "กรอกค่าพื้นที่:" : "Enter area value:";
    document.getElementById("label-unit").textContent = isThai ? "เลือกหน่วย:" : "Select unit:";
    document.getElementById("convertBtn").textContent = isThai ? "แปลง" : "Convert";

    // เปลี่ยน text ของ option ตามภาษา
    const options = document.querySelectorAll("#unitSelect option");
    const unitMap = {
      ac: ["เอเคอร์", "Acres (ac)"],
      a: ["อาร์", "Ares (a)"],
      ha: ["เฮกเตอร์", "Hectares (ha)"],
      cm2: ["ตารางเซนติเมตร", "Square centimetres (cm²)"],
      ft2: ["ตารางฟุต", "Square feet (ft²)"],
      in2: ["ตารางนิ้ว", "Square inches (in²)"],
      m2: ["ตารางเมตร", "Square metres (m²)"]
    };

    options.forEach(opt => {
      opt.textContent = isThai ? unitMap[opt.value][0] : unitMap[opt.value][1];
    });

function convertArea() {
  const value = parseFloat(document.getElementById("areaValue").value);
  const unit = document.getElementById("unitSelect").value;

  if (isNaN(value) || value < 0) {
    alert(isThai ? "กรุณากรอกตัวเลขที่ถูกต้อง" : "Please enter a valid number.");
    return;
  }

  const toM2 = {
    ac: 4046.856,
    a: 100,
    ha: 10000,
    cm2: 0.0001,
    ft2: 0.092903,
    in2: 0.00064516,
    m2: 1
  };

  const unitLabels = unitMap; // สมมุติว่า unitMap ถูกประกาศไว้แล้ว

  const base = value * toM2[unit]; // แปลงเป็นตารางเมตรก่อน

  const results = {};
  for (const key in toM2) {
    results[key] = base / toM2[key];
  }

  // แสดงผลลัพธ์หลัก
  let output = `<h3>${isThai ? "ผลลัพธ์" : "Result"}</h3>`;
  output += `<ul style="text-align:left;">`;

  for (const key in results) {
    const label = isThai ? unitLabels[key][0] : unitLabels[key][1];
    output += `<li>${results[key].toLocaleString(undefined, { maximumFractionDigits: 6 })} ${label}</li>`;
  }

  output += `</ul>`;
  document.getElementById("resultBox").innerHTML = output;

  // ✅ แสดงตัวอย่างการคำนวณ
  const exampleLines = [];

  for (const key in toM2) {
    const label = isThai ? unitLabels[key][0] : unitLabels[key][1];
    const fromLabel = isThai ? unitLabels[unit][0] : unitLabels[unit][1];

    if (key === unit) {
      // แสดงตัวอย่างหน่วยเดิม
      const line = `${value} ${label} = ${value} ${label} <span style="color:#999;">(${isThai ? "หน่วยเดิม ไม่มีการแปลง" : "same unit, no conversion"})</span>`;
      exampleLines.push(`<li>${line}</li>`);
    } else {
      const formula = `${value} × ${toM2[unit].toLocaleString(undefined, { maximumFractionDigits: 6 })} ÷ ${toM2[key].toLocaleString(undefined, { maximumFractionDigits: 6 })} = ${results[key].toLocaleString(undefined, { maximumFractionDigits: 6 })} ${label}`;
      exampleLines.push(`<li>${formula}</li>`);
    }
  }

  const explanation = `
    <strong style="display:block; margin-top:30px;">${isThai ? 'ตัวอย่างการคำนวณ:' : 'Example Calculations:'}</strong>
    <ul style="text-align:left; font-size:14px; color:#444;">
      ${exampleLines.join('')}
    </ul>
  `;

  document.getElementById("explanationBox").innerHTML = explanation;
}

  </script>
</body>
</html>
