<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="image/logo.png">
  <title>‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</title>
  <style>
    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á body */
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f8f8f8;
      padding: 20px;
    }
    /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
    .container {
      max-width: 600px;
      background: #fff;
      padding: 20px;
      margin: auto;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    /* ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ */
    h1 {
      text-align: center;
      color: #d32f2f;
    }
    /* ‡∏õ‡πâ‡∏≤‡∏¢ label */
    label {
      font-weight: bold;
      margin-top: 15px;
      display: block;
    }
    /* ‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç*/
    input, select {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      margin-top: 5px;
      box-sizing: border-box;
    }
    /* ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì */
    button {
      width: 100%;
      padding: 10px;
      margin-top: 20px;
      background: #d32f2f;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
    }
    button:hover {
      background: #b71c1c;
    }
    .result {
      margin-top: 20px;
      font-size: 15px;
      color: #333;
    }
    .example {
      margin-top: 20px;
      font-size: 15px;
      color: #333;
    }
    .note {
      margin-top: 20px;
      font-size: 15px;
      color: #333;
    }
    /*‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏*/
    .note {
      font-size: 13px;
      color: #666;
      background: #f9f9f9;
      border-left: 4px solid #ccc;
      /* ‡πÑ‡∏°‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î padding ‡∏ï‡∏≠‡∏ô‡πÇ‡∏´‡∏•‡∏î */
    }
    /* ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô */
    .warning {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 10px;
      font-size: 14px;
      margin-top: 10px;
      color: #856404;
    }
  </style>
</head>
<body>
<div class="container">
  <h1 id="title">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</h1>
  <!-- ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô -->
  <div class="warning" id="warningText"></div>
  <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
  <label id="label-amount">Amount:</label>
  <input type="text" id="amount" placeholder="Enter amount" />
  <!-- ‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏†‡∏≤‡∏©‡∏µ -->
  <label id="label-rate">VAT Rate (%):</label>
  <input type="number" id="vatRate" value="7" />
  <!-- ‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì -->
  <label id="label-method">Select method:</label>
  <select id="method">
    <option value="before">Before VAT</option>
    <option value="after">Including VAT</option>
  </select>
  <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì -->
  <button onclick="calculateVAT()" id="calcBtn">Calculate</button>
  <!-- ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå -->
  <div class="result">
    <h3 id="resultTitle"></h3>
    <div id="resultBox"></div>
  </div>
  <div class="example" id="exampleBox"></div>
  <div class="note" id="noteBox"></div>
</div>

<script>
  const isThai = (navigator.language || '').toLowerCase().startsWith("th");
  // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤
  const text = {
    title: isThai ? "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ‡∏Ç‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå" : "Online Sales Tax Calculator",
    amountLabel: isThai ? "‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô (‡∏ö‡∏≤‡∏ó):" : "Enter amount (THB):",
    rateLabel: isThai ? "‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏†‡∏≤‡∏©‡∏µ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏° (%):" : "VAT Rate (%):",
    methodLabel: isThai ? "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì:" : "Select calculation method:",
    placeholder: isThai ? "‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô" : "Enter amount",
    methodBefore: isThai ? "‡∏Ñ‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Å‡πà‡∏≠‡∏ô VAT" : "Before VAT",
    methodAfter: isThai ? "‡∏Ñ‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏° VAT ‡πÅ‡∏•‡πâ‡∏ß" : "From total with VAT",
    calcBtn: isThai ? "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ" : "Calculate",
    warning: isThai
      ? '‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì ‚Äî ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ô‡∏µ‡πâ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á <a href="https://www.rd.go.th" target="_blank">‡∏Å‡∏£‡∏°‡∏™‡∏£‡∏£‡∏û‡∏≤‡∏Å‡∏£</a> ‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏†‡∏≤‡∏©‡∏µ‡∏õ‡∏µ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô'
      : '‚ö†Ô∏è Please verify your input ‚Äî this calculator references <a href="https://www.rd.go.th" target="_blank">Thai Revenue Department</a> and current VAT rates.',
    note: isThai
      ? "üìù ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏†‡∏≤‡∏©‡∏µ‡πÑ‡∏î‡πâ ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏†‡∏≤‡∏©‡∏µ"
      : "üìù This tax calculator is intended for preliminary informational purposes only and should not be used as legal, tax, or financial advice. Users are encouraged to consult professionals or relevant authorities before making any financial or tax-related decisions."
  };

  // ‡∏ï‡∏±‡πâ‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° UI
  document.title = text.title;
  document.getElementById("title").textContent = text.title;
  document.getElementById("label-amount").textContent = text.amountLabel;
  document.getElementById("label-rate").textContent = text.rateLabel;
  document.getElementById("label-method").textContent = text.methodLabel;
  document.getElementById("calcBtn").textContent = text.calcBtn;
  document.getElementById("amount").placeholder = text.placeholder;
  document.getElementById("method").options[0].textContent = text.methodBefore;
  document.getElementById("method").options[1].textContent = text.methodAfter;
  document.getElementById("warningText").innerHTML = text.warning;
  document.getElementById("resultTitle").textContent = "";
  // ‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô
  document.getElementById("noteBox").innerHTML = "";
  document.getElementById("noteBox").style.padding = "0";

  // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏†‡∏≤‡∏©‡∏µ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°
  function calculateVAT() {
    document.getElementById("resultTitle").innerHTML = `<span style="font-size: 20px;">${isThai ? "‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå" : "Result"}</span>`;
    document.getElementById("resultBox").innerHTML = `
  `;
    const raw = document.getElementById("amount").value.replace(/,/g, '');
    const amount = parseFloat(raw);
    const rate = parseFloat(document.getElementById("vatRate").value);
    const method = document.getElementById("method").value;
    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
    if (isNaN(amount) || isNaN(rate) || amount <= 0 ) {
      alert(isThai ? "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô" : "Please enter amount");
      return;
    }
    // ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏ô 15 ‡∏´‡∏•‡∏±‡∏Å
    if (raw.replace('.', '').length > 15){
      alert(isThai ? "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏Å‡∏¥‡∏ô 15 ‡∏´‡∏•‡∏±‡∏Å‡πÑ‡∏î‡πâ" : "Cannot calculate numbers exceeding 15 digits.");
      return;
    }
    // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°
    let base, vat, total;
    if (method === "before") {
      base = amount;
      vat = +(base * (rate / 100)).toFixed(2);
      total = +(base + vat).toFixed(2);
    } else {
      total = amount;
      base = +(total / (1 + rate / 100)).toFixed(2);
      vat = +(total - base).toFixed(2);
    }
    //‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
    document.getElementById("resultBox").innerHTML = `
    <div style="margin-top:-10px;">
      üíµ ${isThai ? "‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏†‡∏≤‡∏©‡∏µ" : "Price before VAT"}: ${base.toLocaleString()}<br>
      üßæ ${isThai ? "VAT" : "VAT"} ${rate}%: ${vat.toLocaleString()}<br>
      üì¶ ${isThai ? "‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°‡∏†‡∏≤‡∏©‡∏µ" : "Total with VAT"}: ${total.toLocaleString()}
    `;
    //‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
    const example = method === "before"
      ? `
        ${isThai 
          ? `VAT ${rate}% = ${rate} √∑ 100 √ó ${base.toLocaleString()} = ${vat.toLocaleString()}<br>
             ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏†‡∏≤‡∏©‡∏µ + VAT = ${base.toLocaleString()} + ${vat.toLocaleString()} = ${total.toLocaleString()}`
          : `VAT ${rate}% = ${rate} √∑ 100 √ó ${base.toLocaleString()} = ${vat.toLocaleString()}<br>
             Price before VAT + VAT = ${base.toLocaleString()} + ${vat.toLocaleString()} = ${total.toLocaleString()}`
        }
      `
      : `
        ${isThai 
          ? `‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Å‡πà‡∏≠‡∏ô VAT = ${total.toLocaleString()} - ${vat.toLocaleString()} = ${base.toLocaleString()}<br>
             VAT ${rate}% = ${rate} √∑ ${100 + rate} √ó ${total.toLocaleString()} = ${vat.toLocaleString()}`
          : `Price before VAT = ${total.toLocaleString()} - ${vat.toLocaleString()} = ${base.toLocaleString()}<br>
             VAT ${rate}% = ${rate} √∑ ${100 + rate} √ó ${total.toLocaleString()} = ${vat.toLocaleString()}`
        }
      `;

    document.getElementById("exampleBox").innerHTML = `
       <strong style="font-size: 18px; display: inline-block; margin-bottom: 10px;">${isThai ? "üîç ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì:" : "üîç Example Calculation:"}</strong><br>${example}
    `;

    // ‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
    document.getElementById("noteBox").innerHTML = text.note;
    document.getElementById("noteBox").style.padding = "10px";
  }

  // ‚úÖ ‡∏Å‡∏î Enter ‡πÉ‡∏ô amount ‚Üí ‡πÑ‡∏õ vatRate
  document.getElementById("amount").addEventListener("keydown", function (e) {
    if (e.key === "Enter") {
      e.preventDefault();
      document.getElementById("vatRate").focus();
    }
  });

  // ‚úÖ ‡∏Å‡∏î Enter ‡πÉ‡∏ô vatRate ‚Üí ‡πÑ‡∏õ method
  document.getElementById("vatRate").addEventListener("keydown", function (e) {
    if (e.key === "Enter") {
      e.preventDefault();
      document.getElementById("method").focus();
    }
  });

  // ‚úÖ ‡∏Å‡∏î Enter ‡πÉ‡∏ô method ‚Üí ‡πÑ‡∏õ‡∏õ‡∏∏‡πà‡∏° Calculate
  document.getElementById("method").addEventListener("keydown", function (e) {
    if (e.key === "Enter") {
      e.preventDefault();
      document.getElementById("calcBtn").focus();
    }
  });

  // ‚úÖ ‡∏Å‡∏î Enter ‡∏ï‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏° ‚Üí ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
  document.getElementById("calcBtn").addEventListener("keydown", function (e) {
    if (e.key === "Enter") {
      e.preventDefault();
      calculateVAT();
    }
  });

  // ‡πÉ‡∏™‡πà comma ‡∏ï‡∏≠‡∏ô‡∏û‡∏¥‡∏°‡∏û‡πå
  document.getElementById("amount" || vatRate).addEventListener("input", function () {
    const val = this.value.replace(/,/g, '').replace(/[^\d.]/g, '');
    const parts = val.split('.');
    const intPart = parts[0].replace(/^0+(?!$)/, '');
    const decPart = parts[1] || '';
    this.value = decPart
      ? `${intPart.replace(/\B(?=(\d{3})+(?!\d))/g, ",")}.${decPart}`
      : intPart.replace(/\B(?=(\d{3})+(?!\d))/g, ",");
  });

  document.getElementById("vatRate").addEventListener("input", function () {
      const val = this.value.replace(/,/g,'').replace(/[^\d.]/g,'');
      const parts = val.split('.');
      const intPart = parts[0].replace(/^0+(?!$)/, '');
      const decPart = parts[1] || '';
      this.value = decPart ? `${intPart.replace(/\B(?=(\d{2})+(?!\d))/g, ",")}.${decPart}`
      : intPart.replace(/\B(?=(\d{2})+(?!\d))/g, ",");
    });
</script>
</body>
</html>
