<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="image/logo.png">
  <title>Corporate Tax Calculator</title>
  <style>
    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á body */
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #e6f2ff;
      padding: 20px;
    }
    /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
    .container {
      max-width: 600px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    /* ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ */
    h1 {
      text-align: center;
      color: #005b96;
    }
    /* ‡∏õ‡πâ‡∏≤‡∏¢ label */
    label {
      font-weight: bold;
      margin-top: 15px;
      display: block;
    }
    /* ‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç*/
    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      font-size: 16px;
      box-sizing: border-box;
    }
    /* ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì */
    button {
      margin-top: 20px;
      width: 100%;
      background-color: #005b96;
      color: white;
      border: none;
      padding: 10px;
      font-size: 16px;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background-color: #003f6b;
    }
    .result{
      margin-top: 20px;
      font-size: 15px;
    }
    .example{
      margin-top: 20px;
      font-size: 15px;
    }
    .note {
      margin-top: 20px;
      font-size: 15px;
    }
    .note {
      background: #f9f9f9;
      border-left: 4px solid #ccc;
      color: #666;
      font-size: 13px;
    }
    /*‡∏•‡∏¥‡∏á‡∏Ñ‡πå‡πÅ‡∏´‡∏•‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•*/
    .source {
      margin-top: 15px;
      font-size: 13px;
      text-align: center;
    }
    .source a {
      color: #005b96;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 id="title">Corporate Tax Calculator</h1>
    <!-- ‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏Å‡∏≥‡πÑ‡∏£‡∏™‡∏∏‡∏ó‡∏ò‡∏¥ -->
    <label id="label-profit">Net Profit (THB):</label>
    <input type="text" id="profit" placeholder="Enter net profit">
    <!-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó -->
    <label id="label-small">Type of company:</label>
    <select id="companyType">
      <option value="small">SME (‡∏ó‡∏∏‡∏ô ‚â§ 5 ‡∏•‡πâ‡∏≤‡∏ô, ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ ‚â§ 30 ‡∏•‡πâ‡∏≤‡∏ô)</option>
      <option value="normal">General Company</option>
    </select>
    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ -->
    <button onclick="calculateTax()" id="calcBtn">Calculate Tax</button>
    <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå -->
    <div class="result">
    <h3 id="resultTitle"></h3>
    <div id="resultBox"></div> 
  </div>
    <div class="example" id="exampleBox"></div>
    <div class="note" id="noteBox"></div>
    <div class="source">
      üîó <a href="https://www.rd.go.th" target="_blank">Source: Thai Revenue Department</a>
    </div>
  </div>

<script>
  const isThai = (navigator.language || '').startsWith("th");

  // üåê ‡∏†‡∏≤‡∏©‡∏≤
  document.title = isThai ? "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ‡∏ô‡∏¥‡∏ï‡∏¥‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•" : "Corporate Tax Calculator";
  document.getElementById("title").textContent = document.title;
  document.getElementById("profit").placeholder = isThai ? "‡∏Å‡∏£‡∏≠‡∏Å‡∏Å‡∏≥‡πÑ‡∏£‡∏™‡∏∏‡∏ó‡∏ò‡∏¥" : "Enter net profit";
  document.getElementById("label-profit").textContent = isThai ? "‡∏Å‡∏≥‡πÑ‡∏£‡∏™‡∏∏‡∏ó‡∏ò‡∏¥ (‡∏ö‡∏≤‡∏ó):" : "Net Profit (THB):";
  document.getElementById("label-small").textContent = isThai ? "‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó:" : "Type of company:";
  document.getElementById("companyType").options[0].textContent = isThai ? "SME (‡∏ó‡∏∏‡∏ô ‚â§ 5 ‡∏•‡πâ‡∏≤‡∏ô, ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ ‚â§ 30 ‡∏•‡πâ‡∏≤‡∏ô)" : "SME (Capital ‚â§ 5M, Revenue ‚â§ 30M)";
  document.getElementById("companyType").options[1].textContent = isThai ? "‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ" : "General Company";
  document.getElementById("calcBtn").textContent = isThai ? "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ" : "Calculate Tax";
  document.querySelector('.source a').textContent = isThai ? '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏Å‡∏£‡∏°‡∏™‡∏£‡∏£‡∏û‡∏≤‡∏Å‡∏£' : 'Source: Thai Revenue Department';
  document.getElementById("resultTitle").textContent = "";

  // üßÆ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏†‡∏≤‡∏©‡∏µ‡∏ô‡∏¥‡∏ï‡∏¥‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•
  function calculateTax() {
  // ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
  document.getElementById("resultTitle").innerHTML = `<span style="font-size: 20px; display: inline-block; margin-bottom:-8px;">${isThai ? "‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå" : "Result"}</span>`;
  document.getElementById("resultBox").innerHTML = `
  `;
  const raw = document.getElementById("profit").value.replace(/,/g, '');
  const profit = parseFloat(raw);
  const type = document.getElementById("companyType").value;
    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
  if (isNaN(profit) || profit < 0) {
    alert(isThai ? "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç" : "Please enter a valid number.");
    return;
  }
  // ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏ô 15 ‡∏´‡∏•‡∏±‡∏Å
  if(raw.replace('.', '').length > 15) {
    alert(isThai 
    ? '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏Å‡∏¥‡∏ô 15 ‡∏´‡∏•‡∏±‡∏Å‡πÑ‡∏î‡πâ' 
    : 'Cannot calculate numbers exceeding 15 digits.');
    return;
 }

  let tax = 0;
  let explanation = '';

  if (type === "small") {
    if (profit <= 300000) {
      tax = 0;
      explanation = isThai
        ? `‡∏Å‡∏≥‡πÑ‡∏£‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 300,000 ‡∏ö‡∏≤‡∏ó ‚Üí ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡∏†‡∏≤‡∏©‡∏µ`
        : `Profit ‚â§ 300,000 ‚Üí Tax exempted.`;
    } else if (profit <= 3000000) {
      const taxable = profit - 300000;
      tax = taxable * 0.15;
      explanation = isThai
        ? `${taxable.toLocaleString()} √ó 15% = ${tax.toLocaleString()}`
        : `${taxable.toLocaleString()} √ó 15% = ${tax.toLocaleString()}`;
    } else {
      const first = 2700000;
      const second = profit - 3000000;
      const firstTax = first * 0.15;
      const secondTax = second * 0.20;
      tax = firstTax + secondTax;
      explanation = isThai
        ? `${first.toLocaleString()} √ó 15% = ${firstTax.toLocaleString()}<br>${second.toLocaleString()} √ó 20% = ${secondTax.toLocaleString()}`
        : `${first.toLocaleString()} √ó 15% = ${firstTax.toLocaleString()}<br>${second.toLocaleString()} √ó 20% = ${secondTax.toLocaleString()}`;
    }
  } else {
    tax = profit * 0.20;
    explanation = isThai
      ? `‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ ‚Üí ${profit.toLocaleString()} √ó 20% = ${tax.toLocaleString()}`
      : `${profit.toLocaleString()} √ó 20% = ${tax.toLocaleString()}`;
  }
    // ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
  document.getElementById("resultBox").innerHTML =
    (isThai ? "üìå ‡∏†‡∏≤‡∏©‡∏µ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡∏≥‡∏£‡∏∞:" : "üìå Tax Payable:") +
    ` ${tax.toLocaleString(undefined, { minimumFractionDigits: 2 })} ‡∏ö‡∏≤‡∏ó`;
  //‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
  document.getElementById("exampleBox").innerHTML = `
  <strong style="font-size:18px; display:inline-block; margin-top:8px; margin-bottom:8px;">
    ${isThai ? "üîç ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì:" : "üîç Example:"}
  </strong><br>${explanation}
`;
    // ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏
    document.getElementById("noteBox").innerHTML =
      isThai
        ? "üìù ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏†‡∏≤‡∏©‡∏µ‡πÑ‡∏î‡πâ ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏†‡∏≤‡∏©‡∏µ"
        : "üìù This tax calculator is intended for preliminary informational purposes only and should not be used as legal, tax, or financial advice. Users are encouraged to consult professionals or relevant authorities before making any financial or tax-related decisions.";
      document.getElementById("noteBox").style.padding = "10px"; // ‡πÄ‡∏û‡∏¥‡πà‡∏° padding
      }

  // üî¢ ‡πÉ‡∏™‡πà comma ‡∏Ç‡∏ì‡∏∞‡∏û‡∏¥‡∏°‡∏û‡πå
  document.getElementById("profit").addEventListener("input", function () {
    const val = this.value.replace(/,/g, '').replace(/[^\d.]/g, '');
    const parts = val.split('.');
    const intPart = parts[0].replace(/^0+(?!$)/, '');
    const decPart = parts[1] || '';
    this.value = decPart
      ? `${intPart.replace(/\B(?=(\d{3})+(?!\d))/g, ",")}.${decPart}`
      : intPart.replace(/\B(?=(\d{3})+(?!\d))/g, ",");
  });

  // üîò Enter ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
  document.getElementById("profit").addEventListener("keydown", function (e) {
    if (e.key === "Enter") {
      e.preventDefault();
      calculateTax();
    }
  });
</script>
</body>
</html>
