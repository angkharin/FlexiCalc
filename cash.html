<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="image/logo3.png">
  <title>Cash Flow Calculator</title>
  <style>
    /* ‚úÖ ‡πÇ‡∏ã‡∏ô body */
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #e8eaf6;
      margin: 0;
      padding: 20px;
    }
    /* ‚úÖ ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå */
    .container {
      max-width: 600px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 5px 10px rgba(0,0,0,0.1);
    }
    /* ‚úÖ ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏´‡∏•‡∏±‡∏Å */
    h1 {
      text-align: center;
      color: #3f51b5;
    }
    /* ‚úÖ Label */
    label {
      display: block;
      font-weight: bold;
      margin-top: 15px;
    }
    /* ‚úÖ ‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å input */
    input {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      margin-top: 5px;
      box-sizing: border-box;
    }
    /* ‚úÖ ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì */
    button {
      margin-top: 20px;
      width: 100%;
      padding: 10px;
      font-size: 16px;
      background: #3f51b5;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    button:hover {
      background: #303f9f;
    }
    /* ‚úÖ ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå */
    .result {
      margin-top: 25px;
      font-size: 15px;
      color: #333;
    }
    /* ‚úÖ ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì */
    .example {
      margin-top: 25px;
      font-size: 15px;
      color: #333;
    }

    .result h3,
    .example h3 {
      font-size: 20px;
      margin-top: 0;
      margin-bottom: 10px;
    }
    /* ‚úÖ ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ */
    .note {
      margin-top: 25px;
      font-size: 13.5px;
      color: #777;
      background: #f9f9f9;
      border-left: 4px solid #ccc;
      padding: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- ‚úÖ ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏´‡∏•‡∏±‡∏Å -->
    <h1 id="title">Cash Flow Calculator</h1>

    <!-- ‚úÖ ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
    <label id="label-income">Total Monthly Income:</label>
    <input type="text" id="income" placeholder="Enter total monthly income">

    <label id="label-expense">Total Monthly Expenses:</label>
    <input type="text" id="expense" placeholder="Enter total monthly expenses">

    <label id="label-months">Period (Months):</label>
    <input type="number" id="months" placeholder="Number of months">

    <!-- ‚úÖ ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì -->
    <button onclick="calculateCashFlow()" id="calcBtn">Calculate</button>

    <!-- ‚úÖ ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå -->
    <div class="result" style="display:none;">
      <h3 id="resultTitle"></h3>
      <div id="resultBox"></div>
    </div>

    <!-- ‚úÖ ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì -->
    <div class="example" style="display:none;">
      <h3 id="exampleTitle"></h3>
      <div id="exampleBox"></div>
    </div>

    <!-- ‚úÖ ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ -->
    <div class="note" id="noteBox" style="display:none;"></div>
  </div>

  <script>
    // ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
    const isThai = (navigator.language || '').startsWith('th');

    // ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤
    const txt = {
      title: isThai ? '‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î' : 'Cash Flow Calculator',
      income: isThai ? '‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏£‡∏ß‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô:' : 'Total Monthly Income:',
      expense: isThai ? '‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏£‡∏ß‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô:' : 'Total Monthly Expenses:',
      months: isThai ? '‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ (‡πÄ‡∏î‡∏∑‡∏≠‡∏ô):' : 'Period (Months):',
      button: isThai ? '‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì' : 'Calculate',
      result: isThai ? '‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå' : 'Result',
      example: isThai ? 'üîç ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì:' : 'üîç Example Calculation:',
      note: isThai 
        ? 'üìù ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏≤‡∏à‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏à‡∏£‡∏¥‡∏á ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏à‡∏£‡∏¥‡∏á ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏ö‡∏±‡∏ç‡∏ä‡∏µ ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à ‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡πà‡∏ô‡∏Å‡∏π‡πâ'
        : 'üìù This tool provides only an approximate cash flow estimate for general planning. Actual figures may vary depending on your real income and expenses. Please verify your actual numbers and consult a financial or accounting professional if you plan to use this information for business planning, investment, or loan applications.'
    };

    // ‚úÖ ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ UI
    document.title = txt.title;
    document.getElementById('title').textContent = txt.title;
    document.getElementById('label-income').textContent = txt.income;
    document.getElementById('label-expense').textContent = txt.expense;
    document.getElementById('label-months').textContent = txt.months;
    document.getElementById('calcBtn').textContent = txt.button;
    //placeholder
    document.getElementById('income').placeholder = isThai ? '‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö' : 'Enter total monthly income';
    document.getElementById('expense').placeholder = isThai ? '‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢' : 'Enter total monthly expenses';
    document.getElementById('months').placeholder = isThai ? '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô' : 'Number of months';
    // ‚úÖ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î
    function calculateCashFlow() {
      const rawIncome = document.getElementById('income').value.replace(/,/g,'').trim();
      const rawExpense = document.getElementById('expense').value.replace(/,/g,'').trim();
      const months = parseInt(document.getElementById('months').value);

      const income = parseFloat(rawIncome);
      const expense = parseFloat(rawExpense);

      // ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
      if (isNaN(income) || isNaN(expense) || isNaN(months) || income < 0 || expense < 0 || months <= 0) {
        alert(isThai ? '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•' : 'Please enter valid inputs.');
        return;
      }
      // ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏ô 15 ‡∏´‡∏•‡∏±‡∏Å
      if (
        rawIncome.replace('.','').length > 15 ||
        rawExpense.toString().replace('.', '').length > 15
    ) {
        alert(isThai ? '‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏Å‡∏¥‡∏ô 15 ‡∏´‡∏•‡∏±‡∏Å‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ' : 'Numbers over 15 digits are not allowed.');
        return;
      }

      // ‚úÖ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
      const netPerMonth = income - expense;
      const netTotal = netPerMonth * months;

      // ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
      document.querySelector('.result').style.display = 'block';
      document.querySelector('.example').style.display = 'block';
      document.getElementById('noteBox').style.display = 'block';

      document.getElementById('resultTitle').innerHTML = txt.result;
      document.getElementById('exampleTitle').innerHTML = txt.example;

      document.getElementById('resultBox').innerHTML = `
        ${isThai ? '‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏™‡∏∏‡∏ó‡∏ò‡∏¥/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô:' : 'Net Cash Flow per Month:'} ${netPerMonth.toLocaleString(undefined, { maximumFractionDigits: 2 })} <br>
        ${isThai ? '‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:' : 'Total Cash Flow for Period:'} ${netTotal.toLocaleString(undefined, { maximumFractionDigits: 2 })}
      `;
      //‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á
      document.getElementById('exampleBox').innerHTML = `
        ${isThai 
          ? `‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô = ${income.toLocaleString()}<br>
             ‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡πÄ‡∏î‡∏∑‡∏≠‡∏ô = ${expense.toLocaleString()}<br>
             ‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏™‡∏∏‡∏ó‡∏ò‡∏¥/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô = ${income.toLocaleString()} - ${expense.toLocaleString()} = ${netPerMonth.toLocaleString()}<br>
             ‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏£‡∏ß‡∏° = ${netPerMonth.toLocaleString()} √ó ${months} = ${netTotal.toLocaleString()}`
          : `Monthly income = ${income.toLocaleString()}<br>
             Monthly expenses = ${expense.toLocaleString()}<br>
             Net cash flow per month = ${income.toLocaleString()} - ${expense.toLocaleString()} = ${netPerMonth.toLocaleString()}<br>
             Total cash flow = ${netPerMonth.toLocaleString()} √ó ${months} = ${netTotal.toLocaleString()}`
      }`;

      document.getElementById('noteBox').innerHTML = txt.note;
    }

    // ‚úÖ ‡πÉ‡∏™‡πà comma ‡∏Ç‡∏ì‡∏∞‡∏û‡∏¥‡∏°‡∏û‡πå
    document.getElementById("income").addEventListener("input", function () {
      const val = this.value.replace(/,/g,'').replace(/[^\d.]/g,'');
      const parts = val.split('.');
      const intPart = parts[0].replace(/^0+(?!$)/, '');
      const decPart = parts[1] || '';
      this.value = decPart ? `${intPart.replace(/\B(?=(\d{3})+(?!\d))/g,",")}.${decPart}` : intPart.replace(/\B(?=(\d{3})+(?!\d))/g,",");
    });

    document.getElementById("expense").addEventListener("input", function () {
      const val = this.value.replace(/,/g,'').replace(/[^\d.]/g,'');
      const parts = val.split('.');
      const intPart = parts[0].replace(/^0+(?!$)/, '');
      const decPart = parts[1] || '';
      this.value = decPart ? `${intPart.replace(/\B(?=(\d{3})+(?!\d))/g,",")}.${decPart}` : intPart.replace(/\B(?=(\d{3})+(?!\d))/g,",");
    });

    document.getElementById("months").addEventListener("input", function () {
      const val = this.value.replace(/,/g,'').replace(/[^\d.]/g,'');
      const parts = val.split('.');
      const intPart = parts[0].replace(/^0+(?!$)/, '');
      const decPart = parts[1] || '';
      this.value = decPart ? `${intPart.replace(/\B(?=(\d{2})+(?!\d))/g,",")}.${decPart}` : intPart.replace(/\B(?=(\d{2})+(?!\d))/g,",");
    });

    // ‚úÖ Enter flow
    document.getElementById("income").addEventListener("keydown", function (e) {
      if (e.key === "Enter") { e.preventDefault(); document.getElementById("expense").focus(); }
    });
    document.getElementById("expense").addEventListener("keydown", function (e) {
      if (e.key === "Enter") { e.preventDefault(); document.getElementById("months").focus(); }
    });
    document.getElementById("months").addEventListener("keydown", function (e) {
      if (e.key === "Enter") { e.preventDefault(); calculateCashFlow(); }
    });
  </script>
</body>
</html>
