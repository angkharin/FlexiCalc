<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tip Calculator</title>
  <style>
    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á body */
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #ffecb3;
      color: #000;
      padding: 20px;
    }
    /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
    .container {
      max-width: 500px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }
    /* ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ */
    h1 {
      text-align: center;
      color: #fbc02d;
    }
    /* ‡∏õ‡πâ‡∏≤‡∏¢ label */
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
      color: #000;
    }
    /* ‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç*/
    input, select {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      margin-top: 5px;
      box-sizing: border-box;
      border: 1px solid #000;
      border-radius: 6px;
      background: #fff;
      color: #000;
    }
    /* ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì */
    button {
      width: 100%;
      margin-top: 20px;
      padding: 12px;
      background: #ffa000;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
    }
    button:hover {
      background: #ff8f00;
    }
    .result {
      margin-top: 25px;
      font-size: 18px;
      color: #000;
    }
    .note {
      font-size: 13px;
      color: #555;
      margin-top: 30px;
      line-height: 1.6;
    }
  </style>
</head>
<body>
<div class="container">
  <h1 id="title">Tip Calculator</h1>

  <label id="label-amount">Enter amount:</label>
  <input type="text" id="amount" placeholder="‡πÉ‡∏™‡πà‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô">

  <label id="label-tip">Tip %:</label>
  <select id="tipPercent"></select>

  <label id="label-people">Number of people:</label>
  <select id="peopleCount"></select>
  <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå -->
  <button onclick="calculateTip()" id="calcBtn">Calculate</button>

  <div class="result" id="resultBox"></div>
  <div class="result" id="exampleBox"></div>
  <div class="note" id="noteBox"></div>
</div>

<script>
  const isThai = (navigator.language || '').startsWith("th");

  const text = {
    title: isThai ? "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ó‡∏¥‡∏õ" : "Tip Calculator",
    amountLabel: isThai ? "‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô:" : "Enter amount:",
    tipLabel: isThai ? "‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡∏ó‡∏¥‡∏õ:" : "Tip %:",
    placeholder: isThai ? "‡πÉ‡∏™‡πà‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô" : "Enter amount",
    peopleLabel: isThai ? "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô:" : "Number of people:",
    calcBtn: isThai ? "‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì" : "Calculate",
    tipAmount: isThai ? "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏¥‡∏õ" : "Tip amount",
    total: isThai ? "‡∏£‡∏ß‡∏°" : "Total",
    perPerson: isThai ? "‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô" : "Each",
    exampleTitle: isThai ? "‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì:" : "Example Calculation:",
    note: isThai
      ? "üìù ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ô‡∏µ‡πâ‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏•‡∏≤‡∏î‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏±‡∏î‡πÄ‡∏®‡∏© ‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ô‡∏≥‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ"
      : "üìù This result is based on standard general formulas and may contain slight rounding errors. It is intended for informational purposes only and should not be used as legal or financial evidence."
  };
  // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤
  document.title = text.title;
  document.getElementById("amount").placeholder = text.placeholder;
  document.getElementById("title").textContent = text.title;
  document.getElementById("label-amount").textContent = text.amountLabel;
  document.getElementById("label-tip").textContent = text.tipLabel;
  document.getElementById("label-people").textContent = text.peopleLabel;
  document.getElementById("calcBtn").textContent = text.calcBtn;
  document.getElementById("noteBox").textContent = text.note;

  // ‡∏ó‡∏¥‡∏õ % 0-99
  const tipSelect = document.getElementById("tipPercent");
  for (let i = 0; i <= 99; i++) {
    const opt = document.createElement("option");
    opt.value = i;
    opt.text = `${i} %`;
    tipSelect.appendChild(opt);
  }
  tipSelect.value = 15;

  // ‡∏Ñ‡∏ô 1-99
  const peopleSelect = document.getElementById("peopleCount");
  for (let i = 1; i <= 99; i++) {
    const opt = document.createElement("option");
    opt.value = i;
    opt.text = `${i}`;
    peopleSelect.appendChild(opt);
  }
  peopleSelect.value = 1;
// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏¥‡∏õ
  function calculateTip() {
    const raw = document.getElementById("amount").value.replace(/,/g, '');
    const amount = parseFloat(raw);
    const tip = parseFloat(document.getElementById("tipPercent").value);
    const people = parseInt(document.getElementById("peopleCount").value);
    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
    if (isNaN(amount) || amount <= 0 || people <= 0) {
      alert(isThai ? "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á" : "Please enter valid information.");
      return;
    }
    // ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏ô 15 ‡∏´‡∏•‡∏±‡∏Å
    if (raw.replace('.', '').length > 15) {
      alert(isThai ? "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏™‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏Å‡∏¥‡∏ô 15 ‡∏´‡∏•‡∏±‡∏Å‡πÑ‡∏î‡πâ" : "Cannot enter more than 15 digits.");
      return;
    }

    const tipAmount = +(amount * tip / 100).toFixed(2);
    const total = +(amount + tipAmount).toFixed(2);
    const perPerson = +(total / people).toFixed(2);

    document.getElementById("resultBox").innerHTML = `
      ${text.tipAmount}: ${tipAmount.toLocaleString()}<br>
      ${text.total}: ${total.toLocaleString()}<br>
      ${text.perPerson}: ${perPerson.toLocaleString()}
    `;
    //‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
    document.getElementById("exampleBox").innerHTML = `
      <strong>${text.exampleTitle}</strong><br>
      ${amount.toLocaleString()} √ó ${tip}% = ${tipAmount.toLocaleString()}<br>
      ${amount.toLocaleString()} + ${tipAmount.toLocaleString()} = ${total.toLocaleString()}<br>
      ${total.toLocaleString()} √∑ ${people} = ${perPerson.toLocaleString()}
    `;
  }
  // ‚úÖ ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î Enter ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
  document.getElementById("amount").addEventListener("keydown", function (e) {
    if (e.key === "Enter") {
      e.preventDefault();
      calculateTip();
    }
  });

  document.getElementById("amount").addEventListener("input", function () {
    const val = this.value.replace(/,/g, '').replace(/[^\d.]/g, '');
    const parts = val.split('.');
    const intPart = parts[0].replace(/^0+(?!$)/, '');
    const decPart = parts[1] || '';
    this.value = decPart
      ? `${intPart.replace(/\B(?=(\d{3})+(?!\d))/g, ",")}.${decPart}`
      : intPart.replace(/\B(?=(\d{3})+(?!\d))/g, ",");
  });
</script>
</body>
</html>
