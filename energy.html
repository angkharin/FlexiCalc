<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="image/logo.png">
  <title>Energy Converter</title>
  <style>
    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á body */
    body { 
      font-family: 'Segoe UI', sans-serif; 
      background: #fce4ec; 
      margin: 0; 
      padding: 20px; 
    }
    /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏ó‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
    .container { 
      max-width: 600px; 
      margin: auto; 
      background: #fff; 
      padding: 20px; 
      border-radius: 12px; 
      box-shadow: 0 5px 10px rgba(0,0,0,0.1); 
    }
    /* ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ */
    h1 { 
      text-align: center; 
      color: #ec407a; 
    }
    /* ‡∏õ‡πâ‡∏≤‡∏¢ label */
    label { 
      font-weight: bold; 
      display: block; 
      margin-top: 15px; 
    }
    /* ‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç */
    input, select { 
      width: 100%; 
      padding: 10px; 
      font-size: 16px; 
      margin-top: 5px; 
      box-sizing: border-box; 
    }
    /* ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì */
    button { 
      margin-top: 20px; 
      width: 100%; 
      padding: 10px; 
      font-size: 16px; 
      background: #ec407a; 
      color: white; 
      border: none; 
      border-radius: 6px; 
      cursor: pointer; 
    }
    button:hover { 
      background: #d81b60; 
    }
    .result, .example, .note { 
      margin-top: 20px; 
      font-size: 15px; 
      color: #333; 
    }
    /*‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏*/
    .note { 
      font-size: 11px; 
      color: #777; 
      background: #f9f9f9; 
      border-left: 4px solid #ccc; 
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 id="title">Energy Converter and Power</h1>
    <!-- ‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô -->
    <label id="label-value">Enter energy:</label>
    <input type="text" id="energyValue" placeholder="Enter energy value" />
    <!-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô -->
    <label id="label-unit">Select unit:</label>
    <select id="unitSelect"></select>
    <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏õ‡∏•‡∏á‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô -->
    <button id="convertBtn">Convert</button>
    <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå -->
    <div class="result" id="resultBox"></div>
    <div class="example" id="exampleBox"></div>
    <div class="note" id="noteBox"></div>
  </div>

  <script>
  const isThai = (navigator.language || '').toLowerCase().startsWith('th');

  // ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° txt ‡∏£‡∏ß‡∏° note ‡πÅ‡∏•‡∏∞ example
  const txt = {
    note: isThai
      ? "‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ô‡∏µ‡πâ‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏•‡∏≤‡∏î‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏±‡∏î‡πÄ‡∏®‡∏©‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏±‡∏î‡πÄ‡∏®‡∏© ‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ô‡∏≥‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ"
      : "This result is based on standard general formulas and may contain slight rounding or truncation errors.<br>It is intended for preliminary informational purposes only and should not be used as legal or financial evidence.",
    example: isThai ? "üîç ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì:" : "üîç Example Calculation:"
  };

  // ‚úÖ ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô
  const units = {
    btu: 1055.05585,
    cal: 4.184,
    ev: 1.60218e-19,
    erg: 1e-7,
    ft_lbf: 1.35582,
    j: 1,
    kj: 1000,
    kt: 4.184e12,
    kwh: 3600000,
    mev: 1.60218e-13,
    mwh: 3.6e9,
    nm: 1,
    therm: 105505585.257348
  };

  // ‚úÖ ‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢
  const unitNames = {
    btu: isThai ? "‡∏ö‡∏µ‡∏ó‡∏µ‡∏¢‡∏π (BTU)" : "British Thermal Unit (BTU)",
    cal: isThai ? "‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà (‡πÅ‡∏Ñ‡∏•)" : "Calorie (cal)",
    ev: isThai ? "‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ï‡∏£‡∏≠‡∏ô‡πÇ‡∏ß‡∏•‡∏ï‡πå (eV)" : "Electronvolt (eV)",
    erg: isThai ? "‡πÄ‡∏≠‡∏≠‡∏£‡πå‡∏Å (erg)" : "Erg (erg)",
    ft_lbf: isThai ? "‡πÅ‡∏£‡∏á‡∏õ‡∏≠‡∏ô‡∏î‡πå‡∏ü‡∏∏‡∏ï (‡∏õ‡∏≠‡∏ô‡∏î‡πå-‡∏ü‡∏∏‡∏ï)" : "Foot-pound force (lb-ft)",
    j: isThai ? "‡∏à‡∏π‡∏• (‡∏à.)" : "Joule (J)",
    kj: isThai ? "‡∏Å‡∏¥‡πÇ‡∏•‡∏à‡∏π‡∏• (‡∏Å‡∏à.)" : "Kilojoule (kJ)",
    kt: isThai ? "‡∏Å‡∏¥‡πÇ‡∏•‡∏ï‡∏±‡∏ô ‡πÄ‡∏°‡∏ï‡∏£‡∏¥‡∏Å, ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î (‡∏Å‡∏ï.)" : "Kiloton TNT equivalent (kt)",
    kwh: isThai ? "‡∏Å‡∏¥‡πÇ‡∏•‡∏ß‡∏±‡∏ï‡∏ï‡πå‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á (‡∏Å‡∏ß./‡∏ä.)" : "Kilowatt hour (kWh)",
    mev: isThai ? "‡πÄ‡∏°‡∏Å‡∏∞‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ï‡∏£‡∏≠‡∏ô‡πÇ‡∏ß‡∏•‡∏ï‡πå (‡πÄ‡∏°‡∏Å‡∏∞‡∏≠‡∏µ‡∏ß‡∏µ)" : "Mega Electronvolt (MeV)",
    mwh: isThai ? "‡πÄ‡∏°‡∏Å‡∏∞‡∏ß‡∏±‡∏ï‡∏ï‡πå‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á (MWh)" : "Megawatt hour (MWh)",
    nm: isThai ? "‡∏ô‡∏¥‡∏ß‡∏ï‡∏±‡∏ô‡πÄ‡∏°‡∏ï‡∏£ (‡∏ô‡∏ï./‡∏°.)" : "Newton meter (Nm)",
    therm: isThai ? "‡πÄ‡∏ò‡∏¥‡∏£‡πå‡∏° (‡∏ò.)" : "Therm (Th)"
  };

  // ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÉ‡∏ô select
  const select = document.getElementById('unitSelect');
  Object.keys(units).forEach(u => {
    const opt = document.createElement('option');
    opt.value = u;
    opt.textContent = unitNames[u];
    select.appendChild(opt);
  });

  // ‚úÖ ‡πÅ‡∏õ‡∏•‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏≤‡∏°‡∏†‡∏≤‡∏©‡∏≤
  document.title = isThai ? "‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏•‡∏á‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏û‡∏•‡∏±‡∏á" : "Energy Converter and Power";
  document.getElementById('title').textContent = document.title;
  document.getElementById('label-value').textContent = isThai ? "‡∏Å‡∏£‡∏≠‡∏Å‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô:" : "Enter energy:";
  document.getElementById('label-unit').textContent = isThai ? "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢:" : "Select unit:";
  document.getElementById('energyValue').placeholder = isThai ? "‡∏Å‡∏£‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô" : "Enter energy value";
  document.getElementById('convertBtn').textContent = isThai ? "‡πÅ‡∏õ‡∏•‡∏á" : "Convert";

  // ‚úÖ ‡∏ã‡πà‡∏≠‡∏ô‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÅ‡∏•‡∏∞ padding ‡∏ï‡∏≠‡∏ô‡πÇ‡∏´‡∏•‡∏î
  document.getElementById('noteBox').innerHTML = '';
  document.getElementById('noteBox').style.padding = '0';

  // ‚úÖ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô
  function convertEnergy() {
    const raw = document.getElementById('energyValue').value.replace(/,/g,'').trim();
    const value = parseFloat(raw);
    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏≠‡∏Å
    if (isNaN(value) || value < 0) {
      alert(isThai ? "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç" : "Please enter a valid number");
      return;
    }
    // ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏ô 15 ‡∏´‡∏•‡∏±‡∏Å
    if (raw.replace('.', '').length > 15) {
      alert(isThai ? "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô 15 ‡∏´‡∏•‡∏±‡∏Å‡πÑ‡∏î‡πâ" : "Cannot enter more than 15 digits");
      return;
    }
    // ‡πÅ‡∏õ‡∏•‡∏á‡∏Ñ‡πà‡∏≤‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô
    const unit = select.value;
    const joule = value * units[unit];
    let out = `<h3>${isThai ? "‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå" : "Result"}</h3><ul>`;
    Object.keys(units).forEach(k => {
      out += `<li>${(joule/units[k]).toLocaleString(undefined, {maximumFractionDigits:12})} ${unitNames[k]}</li>`;
    });
    out += "</ul>";
    document.getElementById('resultBox').innerHTML = out;

    // ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ + ‡πÄ‡∏õ‡∏¥‡∏î padding
    document.getElementById('noteBox').innerHTML = txt.note;
    document.getElementById('noteBox').style.padding = '10px';

    // ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
    let ex = `<strong>${txt.example}</strong><ul style="text-align:left;">`;
    ex += `<li>${value.toLocaleString()} ${unitNames[unit]} (${isThai ? "‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÄ‡∏î‡∏¥‡∏°" : "same unit"})</li>`;
    Object.keys(units).forEach(k => {
      if (k !== unit) {
        const formula = `= ${value} √ó ${units[unit].toLocaleString()} √∑ ${units[k].toLocaleString()} = ${(joule/units[k]).toLocaleString(undefined,{maximumFractionDigits:12})}`;
        ex += `<li>${unitNames[k]} ${formula}</li>`;
      }
    });
    ex += "</ul>";
    document.getElementById('exampleBox').innerHTML = ex;
  }

  // ‚úÖ ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏õ‡∏•‡∏á
  document.getElementById("convertBtn").addEventListener("click", convertEnergy);

  // ‚úÖ ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î Enter ‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô
  document.getElementById("energyValue").addEventListener("keydown", e => {
    if (e.key === "Enter") {
      e.preventDefault();
      convertEnergy();
    }
  });

  // ‚úÖ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏Ñ‡∏≠‡∏°‡∏°‡πà‡∏≤‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô
  document.getElementById("energyValue").addEventListener("input", function () {
    const val = this.value.replace(/,/g, '').replace(/[^\d.]/g, '');
    const parts = val.split('.');
    const intPart = parts[0].replace(/^0+(?!$)/, '');
    const decPart = parts[1] || '';
    this.value = decPart
      ? `${intPart.replace(/\B(?=(\d{3})+(?!\d))/g, ",")}.${decPart}`
      : intPart.replace(/\B(?=(\d{3})+(?!\d))/g, ",");
  });
  </script>
</body>
</html>
