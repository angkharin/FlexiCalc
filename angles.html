<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="image/logo.png">
  <title>ตัวแปลงมุม</title>
  <style>
    /* สไตล์รวมของ body */
    body { 
    font-family: 'Segoe UI', sans-serif; 
    background: #e7e9fd; 
    margin: 0; 
    padding: 20px; 
   }
    /* กล่องคอนเทนเนอร์ตรงกลาง */
    .container { 
    max-width:600px; 
    margin:auto; 
    background:#fff; 
    padding:20px; 
    border-radius:12px; 
    box-shadow:0 5px 10px rgba(0,0,0,0.1); 
   }
   /* หัวข้อ */
    h1 { 
    text-align:center; 
    color:#1976d2; 
   }
   /* ป้าย label */
    label { 
    font-weight:bold; 
    display:block; 
    margin-top:15px; 
   }
   /* ช่องกรอกเลข*/
    input, select { 
    width:100%; 
    padding:10px; 
    font-size:16px; 
    margin-top:5px; 
    box-sizing:border-box; 
   }
   /* ปุ่มคำนวณ */
    button { 
    margin-top:20px; 
    width:100%; 
    padding:10px; 
    font-size:16px; 
    background:#1976d2; 
    color:white; 
    border:none; 
    border-radius:6px; 
    cursor:pointer; 
   }
    button:hover { 
    background:#0d47a1; 
   }
    .result, .example, .note { 
    margin-top:20px; 
    font-size:15px; 
    color:#333; 
   }
    .note { 
    font-size:11px; 
    color:#777; 
    background:#f9f9f9; 
    padding:10px; 
    border-left:4px solid #ccc; 
   }
  </style>
</head>
<body>
  <div class="container">
    <h1 id="title">Angle Converter</h1>

    <label id="label-value">Enter angle:</label>
    <input type="text" id="angleValue" placeholder="enter angle value" />

    <label id="label-unit">Select unit:</label>
    <select id="unitSelect">
      <option value="deg">Degrees (°)</option>
      <option value="rad">Radians (rad)</option>
      <option value="grad">Gradians (grad)</option>
      <option value="mil">Milliradians (mrad)</option>
    </select>

    <button onclick="convertAngle()" id="convertBtn">Convert</button>
    <!-- แสดงผลลัพธ์ -->
    <div class="result" id="resultBox"></div>
    <div class="example" id="exampleBox"></div>
    <div class="note" id="noteBox"></div>
  </div>

  <script>
    
    const isThai = (navigator.language || '').toLowerCase().startsWith('th');
    const txt = {
      title: isThai ? 'ตัวแปลงมุม' : 'Angle Converter',
      value: isThai ? 'กรอกมุม:' : 'Enter angle:',
      unit: isThai ? 'เลือกหน่วย:' : 'Select unit:',
      button: isThai ? 'แปลง' : 'Convert',
      note: isThai
        ? "ค่าคำนวณนี้อิงจากสูตรมาตรฐานทั่วไป อาจมีค่าคลาดเคลื่อนเล็กน้อยจากการปัดเศษหรือตัดเศษ ใช้เพื่อเป็นข้อมูลประกอบการตัดสินใจเบื้องต้นเท่านั้น ไม่สามารถนำมาใช้เป็นหลักฐานอ้างอิงทางกฎหมายหรือทางการเงินได้"
        : "This result is based on standard general formulas and may contain slight rounding or truncation errors.<br>It is intended for preliminary informational purposes only and should not be used as legal or financial evidence.",    };
    // ✅ แปลข้อความตามภาษา
    document.title = txt.title;
    document.getElementById('title').textContent = txt.title;
    document.getElementById('label-value').textContent = txt.value;
    document.getElementById('label-unit').textContent = txt.unit;
    document.getElementById('convertBtn').textContent = txt.button;
    document.getElementById('noteBox').textContent = txt.note;
    document.getElementById('angleValue').placeholder = isThai ? 'กรอกมุม' : 'Enter angle value';
    document.getElementById('unitSelect').options[0].textContent = isThai ? 'องศา (°)' : 'Degrees (°)';
    document.getElementById('unitSelect').options[1].textContent = isThai ? 'เรเดียน (rad)' : 'Radians (rad)';
    document.getElementById('unitSelect').options[2].textContent = isThai ? 'กราด (grad)' : 'Gradians (grad)';
    document.getElementById('unitSelect').options[3].textContent = isThai ? 'มิลิเรเดียน (mrad)' : 'Milliradians (mrad)';
    document.getElementById('noteBox').innerHTML = txt.note;
//ฟังก์ชันคำนวณมุม
function convertAngle() {
    const raw = document.getElementById('angleValue').value.replace(/,/g,'').trim();
    const value = parseFloat(raw);
    if (isNaN(value) || value < 0) {
      alert(isThai ? 'กรุณากรอกตัวเลขที่ถูกต้อง' : 'Please enter a valid number');
      return;
    }
    if (raw.replace('.', '').length > 15) {
      alert(isThai ? 'ไม่สามารถกรอกเกิน 15 หลักได้' : 'Cannot enter more than 15 digits');
      return;
    }

    const unit = document.getElementById('unitSelect').value;
    const conv = {
      deg: { deg: value, rad: value * Math.PI/180, grad: value * 10/9, mrad: value * Math.PI/180*1000 },
      rad: { deg: value * 180/Math.PI, rad: value, grad: value * 200/Math.PI, mrad: value * 1000 },
      grad: { deg: value * 9/10, rad: value * Math.PI/200, grad: value, mrad: value * Math.PI/200*1000 },
      mrad: { deg: value * 180/(Math.PI*1000), rad: value/1000, grad: value * 200/(Math.PI*1000), mrad: value }
    };
    const res = conv[unit];

    const unitNames = {
      deg: isThai ? 'องศา (°)' : 'degrees (°)',
      rad: isThai ? 'เรเดียน' : 'radians',
      grad: isThai ? 'กราด' : 'gradians',
      mrad: isThai ? 'มิลิเรเดียน' : 'milliradians'
    };

    // แสดงผลลัพธ์
    let out = `<h3>${isThai ? 'ผลลัพธ์' : 'Result'}</h3><ul>`;
    out += `<li>${res.deg.toLocaleString(undefined,{maximumFractionDigits:6})} ${unitNames.deg}</li>`;
    out += `<li>${res.rad.toLocaleString(undefined,{maximumFractionDigits:6})} ${unitNames.rad}</li>`;
    out += `<li>${res.grad.toLocaleString(undefined,{maximumFractionDigits:6})} ${unitNames.grad}</li>`;
    out += `<li>${res.mrad.toLocaleString(undefined,{maximumFractionDigits:6})} ${unitNames.mrad}</li>`;
    out += `</ul>`;
    document.getElementById('resultBox').innerHTML = out;

    // สร้างตัวอย่าง
    let ex = `<strong>${txt.example}</strong><ul style="text-align:left;">`;
    ex += `<li>${value.toLocaleString()} ${unitNames[unit]} <span style="color:#999;">(${isThai ? 'หน่วยเดิม ไม่มีการแปลง' : 'same unit, no conversion'})</li>`;

    if (unit !== 'rad') {
      ex += `<li>${unitNames.rad} = ${value.toLocaleString()} × π/180 = ${conv.deg.radNothing ? conv.deg.radNothing : res.rad.toPrecision(12)}</li>`;
      // แต่ใช้ res.rad ถ้าเลือก deg
      ex = ex.replace('π/180', 'π/180');
    }
    if (unit !== 'grad') {
      ex += `<li>${unitNames.grad} = ${value.toLocaleString()} × 10/9 = ${res.grad.toPrecision(12)}</li>`;
    }
    if (unit !== 'mrad') {
      ex += `<li>${unitNames.mrad} = ${value.toLocaleString()} × π/180*1000 = ${res.mrad.toPrecision(12)}</li>`;
    }
    ex += `</ul>`;
    document.getElementById('exampleBox').innerHTML = ex;
  }
    // ✅ Enter เพื่อคำนวณ
    document.getElementById("angleValue").addEventListener("keydown", function (e) {
    if (e.key === "Enter") {
      e.preventDefault();
      convertAngle();
    }
  });
    // ✅ ใส่ comma ตอนพิมพ์
    document.getElementById("angleValue").addEventListener("input", function () {
    let val = this.value.replace(/,/g, '').replace(/[^\d.]/g, '');
    const parts = val.split('.');
    const intPart = parts[0].replace(/^0+(?!$)/, '');
    const decPart = parts[1] || '';
    this.value = decPart
      ? `${intPart.replace(/\B(?=(\d{3})+(?!\d))/g, ",")}.${decPart}`
      : intPart.replace(/\B(?=(\d{3})+(?!\d))/g, ",");
  });
  </script>
</body>
</html>
